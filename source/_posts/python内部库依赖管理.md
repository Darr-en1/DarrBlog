---
title: pythonå†…éƒ¨åº“ä¾èµ–ç®¡ç†
copyright: true
permalink: 1
top: 0
date: 2022-02-18 16:03:25
tags:
	- python
categories: python
password:
---

å…¬å¸gitlab ä¸Šç»´æŠ¤äº†ä¸€äº›Pythonå†…éƒ¨åº“ï¼Œæœ€è¿‘å‡ºç°äº†ä¸€äº›å°æ¯›ç—…ï¼Œè§£å†³çš„åŒæ—¶å€Ÿæ­¤æ¢³ç†ä¸€ä¸‹ã€‚<!--more-->



## å†…éƒ¨åº“ä¾èµ–æ­£ç¡®å†™æ³•



å…¬å¸æœ€è¿‘å¯¹gitlab æœåŠ¡è¿›è¡Œå‡çº§ï¼Œç”±æ­¤å¯¼è‡´äº†å†…éƒ¨åº“ä¸‹è½½å¤±è´¥ã€‚ä¹‹å‰åœ¨requirements.txt å£°æ˜çš„é“¾æ¥å¦‚ä¸‹ï¼š

![image-20220218162310393](/Users/tiger/own-project/DarrBlog/source/images/pythonå†…éƒ¨åº“ä¾èµ–ç®¡ç†/image-20220218162310393.png)

ç»æ’æŸ¥å‘ç°gitlab ç‰ˆæœ¬å‡çº§åï¼Œé“¾æ¥åœ°å€å‘ç”Ÿäº†å˜åŒ–ï¼Œæ–°çš„åœ°å€å¦‚ä¸‹ï¼š

![image-20220218162718614](/Users/tiger/own-project/DarrBlog/source/images/pythonå†…éƒ¨åº“ä¾èµ–ç®¡ç†/image-20220218162718614.png)

äº†è§£åå‘ç°ï¼Œå…¶å® pip å°±æ˜¯å°† gitlab ä»“åº“çš„ä»£ç ä»¥å‹ç¼©æ–‡ä»¶çš„å½¢å¼ä¸‹è½½ä¸‹æ¥å¹¶è§£å‹æ‰§è¡Œsetup ç”Ÿæˆpython è¿è¡Œç¯å¢ƒçš„ä¾èµ–åº“ã€‚

è¿™ä¹ˆå†™è¿˜æ˜¯ç›´æ¥è·å–tar åŒ…çš„åœ°å€ï¼Œé€‚é…æ€§å¤ªå·®ï¼Œä¸çŸ¥é“é‚£å¤©é“¾æ¥åˆæ”¹æ‰äº†ï¼Œé‚£ä¹ˆæœ‰ä»€ä¹ˆå¥½çš„æ–¹æ¡ˆå—

å…¶å®git æœ‰æä¾›è·å–ä¾èµ–åº“çš„æ¥å£ï¼Œé€šè¿‡è°ƒç”¨ä»¥ä¸‹é“¾æ¥å®ç°ä¾èµ–åº“çš„ä¸‹è½½ï¼š

![image-20220218163758493](/Users/tiger/own-project/DarrBlog/source/images/pythonå†…éƒ¨åº“ä¾èµ–ç®¡ç†/image-20220218163758493.png)

## ç‰ˆæœ¬ç®¡ç†

ä¹‹å‰å…¬å¸å†…éƒ¨ä¾èµ–åº“æ˜¯æ‹‰å–æŸä¸€ä¸ªåˆ†æ”¯ï¼Œå€˜è‹¥é‡‡å–è¿™ç§æ–¹æ¡ˆä¼šå‡ºç°ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š

- å½“åº•å±‚ä¾èµ–åº“å‡çº§åï¼Œä¸Šå±‚æ‰€æœ‰åº“éƒ½éœ€è¦åšé€‚é…ï¼Œå¦åˆ™ä¼šå‡ºç°æ— æ³•è¿è¡Œçš„æƒ…å†µ
- å½“éƒ¨ç½²å¦ç‰ˆæœ¬å›é€€æ—¶ï¼Œä¾èµ–æ— æ³•å›é€€è‡³ä¸Šä¸€ä¸ªç‰ˆæœ¬



å› æ­¤æˆ‘ä»¬é‡‡å–ä»¥ä¸‹æ–¹æ¡ˆï¼š åŸºäºmaster æ‰“tag è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚å½“æ–°çš„ç‰¹æ€§æ›´æ–°åˆ°master ,æˆ‘ä»¬ä¼šå¯¹å…¶è¿›è¡Œæ‰“tagï¼Œå£°æ˜ç‰ˆæœ¬ã€‚  å¦‚(v1.0.0),å› æ­¤æˆ‘ä»¬åªéœ€è¦åœ¨

ä¸šåŠ¡åº“ä¸­ä¿®æ”¹ä¾èµ–å³å¯ï¼Œå¦‚ï¼š

![image-20220221115331230](/Users/tiger/own-project/DarrBlog/source/images/pythonå†…éƒ¨åº“ä¾èµ–ç®¡ç†/image-20220221115331230.png)

è€Œå…¶ä»–ä¸Šå±‚åº“åˆ™æŒ‰éœ€ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥è§£å†³ä¸Šé¢å‡ºç°çš„é—®é¢˜ã€‚

## other

æ­£å¸¸æƒ…å†µå°±æ²¡å•¥é—®é¢˜äº†ï¼Œä½†æ˜¯æœ¬äººåœ¨æµ‹è¯•ç¯å¢ƒè¿›è¡Œéƒ¨ç½²æ—¶ï¼Œå‘ç°æƒ…å†µå¹¶ä¸ä¹è§‚ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤(-q æ§åˆ¶å°è¯¦ç»†æ‰“å°è¾“å‡º)ï¼š

![image-20220218171530761](/Users/tiger/own-project/DarrBlog/source/images/pythonå†…éƒ¨åº“ä¾èµ–ç®¡ç†/image-20220218171530761.png)

å‡ºç°é”™è¯¯ï¼š `fatal: HTTP request failed`

æŸ¥é˜…åå‘ç°ï¼Œå› ä¸ºå½“å‰æœºå™¨Centos ç‰ˆæœ¬è¿‡ä½ï¼Œåªæœ‰Cento6.5ï¼Œè‡ªå¸¦çš„çš„git ç‰ˆæœ¬ 1.7.1 ï¼Œå¹¶ä¸æ”¯æŒæ­¤æ ¼å¼ï¼Œå› æ­¤éœ€è¦å¯¹git è¿›è¡Œå‡çº§ã€‚

#### å‡çº§git

1.å®‰è£…ä¾èµ–

``````shell
sudo yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel asciidoc
sudo yum install  gcc perl-ExtUtils-MakeMaker   
``````

2.å¸è½½git

``````shell
sudo yum remove git
``````

3. ä¸‹è½½å¹¶å®‰è£…é«˜ç‰ˆæœ¬git

``````shell
wget https://github.com/git/git/archive/v2.2.1.tar.gz
tar zxvf v2.2.1.tar.gz
cd git-2.2.1
make prefix=/usr/local/git all
``````

4.æ·»åŠ è‡³ç¯å¢ƒå˜é‡

å› ä¸ºæ˜¯érootç”¨æˆ·ä½¿ç”¨gitï¼Œåˆ™éœ€è¦é…ç½®ä¸‹è¯¥ç”¨æˆ·ä¸‹çš„ç¯å¢ƒå˜é‡ï¼š

``````shell
echo "export PATH=$PATH:/usr/local/git/bin" >> ~/.bashrc
source ~/.bashrc
``````

è‡³æ­¤ï¼Œgit å‡çº§å®Œæˆï¼Œå¯ä»¥é€šè¿‡`git --version` æŸ¥çœ‹ç‰ˆæœ¬



å†æ¬¡æ‰§è¡Œä¸‹è½½å‘½ä»¤ï¼Œä»æ—§å‡ºç°é”™è¯¯ï¼Œ`SSL connect error`ï¼Œåªæ˜¯ç”±äºæ— æ³•åœ¨æœåŠ¡å™¨ä½¿ç”¨curlå‘½ä»¤è®¿é—®httpsåŸŸå,nssç‰ˆæœ¬æœ‰ç‚¹æ—§äº†ï¼Œè¿™è¯¥æ­»çš„è€æœºå™¨ğŸ˜­ï¼š

![image-20220218164330516](/Users/tiger/own-project/DarrBlog/source/images/pythonå†…éƒ¨åº“ä¾èµ–ç®¡ç†/image-20220218164330516.png)

#### æ›´æ–°nss

æ‰§è¡Œæ›´æ–°nsså‘½ä»¤ï¼š

``````shell
yum update -y nss curl libcurl
``````

åˆåˆåˆå‡ºç°é—®é¢˜å•¦ğŸ˜£`Cannot find a valid baseurl for repo: base`

éœ€è¦æ›´æ–°yum çš„ä¸‹è½½æºã€‚ã€‚ã€‚ã€‚ã€‚ã€‚



#### æ›´æ¢yumæº

1. å¤‡ä»½åŸyumæº

   ``````shell
   mvÂ /etc/yum.repos.d/CentOS-Base.repoÂ /etc/yum.repos.d/CentOS-Base.repo.backup
   ``````

   

2. ä¸‹è½½é•œåƒæº

   ``````shell
   #é˜¿é‡Œäº‘centos7çš„yumæºï¼šhttp://mirrors.aliyun.com/repo/Centos-7.repo
   #é˜¿é‡Œäº‘centos6çš„yumæºï¼šhttp://mirrors.aliyun.com/repo/Centos-6.repo
   wgetÂ -OÂ /etc/yum.repos.d/Centos-Base.repoÂ http://mirrors.aliyun.com/repo/Centos-6.repo
   ``````

æ£é¼“åŠå¤©å‘ç°é˜¿é‡Œæºä¸åœ¨æ”¯æŒcentos6 é•œåƒæºäº†ï¼Œä½¿ç”¨æ¸…åçš„å§ã€‚

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ›¿æ¢é•œåƒæºï¼š

``````shell
sed -i 's#vault.centos.org#mirrors.tuna.tsinghua.edu.cn/centos-vault#g' /etc/yum.repos.d/CentOS-Base.repo
``````

3.é‡æ–°ç”Ÿæˆç¼“å­˜

``````shell
#æ¸…é™¤ç¼“å­˜
yumÂ cleanÂ all
#é‡æ–°ç”Ÿæˆç¼“å­˜
yumÂ makecache
``````

4. æ›´æ–°nss

   ``````shell
   yum update -y nss curl libcurl
   ``````

5. ä¸‹è½½ä¾èµ–

   ![image-20220218201207173](/Users/tiger/own-project/DarrBlog/source/images/pythonå†…éƒ¨åº“ä¾èµ–ç®¡ç†/image-20220218201207173.png)



å‚è€ƒï¼š

[centos6ä½¿ç”¨gitå‘½ä»¤æ—¶fatal: HTTP request failedè§£å†³æ–¹æ³•](https://blog.csdn.net/weixin_45588247/article/details/119887175?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1.pc_relevant_paycolumn_v3&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1.pc_relevant_paycolumn_v3&utm_relevant_index=1)

[CentOS 6é•œåƒæºæ›´æ¢æ–¹æ³•](https://support.huaweicloud.com/ecs_faq/ecs_faq_1009.html)

[git ä½¿ç”¨æŠ¥é”™SSL connect error](https://blog.csdn.net/erzhushashade/article/details/107360738?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2.pc_relevant_aa&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2.pc_relevant_aa&utm_relevant_index=2)









